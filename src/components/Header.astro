---
import Spacer from "./Spacer.astro";
import { Icon } from "astro-icon";
import HeaderLink from "./HeaderLink.astro";
import Footer from "./Footer.astro";

const navItems = [
  { title: "Home", to: "/" },
  { title: "Projects", to: "/projects" },
  { title: "Contact", to: "/contact" },
];
---

<div class="flex flex-row w-full h-[2px]">
  <div class="bg-[#007ACC] w-1/2"></div>
  <div class="bg-[#ffff73] w-1/2"></div>
</div>

<div id="header" class="flex flex-col mb-10">
  <header class="px-5 md:px-10 py-3 flex flex-row transition-all duration-200">
    <button
      class="h-8 w-8 text-white hover:text-white transition-colors duration-200"
    >
      <a href="https://github.com/omfj">
        <Icon class="text-white" name="mdi:github" />
      </a>
    </button>

    <Spacer />

    <button
      class="modal-toggle h-8 w-8 hover:cursor-pointer transition-colors duration-200"
    >
      <Icon class="text-white" name="mdi:menu" />
    </button>
  </header>
</div>

<div
  id="modal"
  class="hidden fixed z-50 top-0 right-0 bottom-0 m-0 left-0 h-screen w-full py-4 px-5 bg-[#191919] text-white"
>
  <div
    class="flex flex-row items-center justify-between border-b pb-3 border-neutral-500 mb-10"
  >
    <a href="https://github.com/omfj">
      <Icon name="mdi:github" class="text-white h-10 w-10" />
    </a>

    <p class="text-2xl font-bold">omfj.no</p>

    <Icon
      name="mdi:close"
      class="text-white h-10 w-10 modal-toggle hover:cursor-pointer"
    />
  </div>
  <div class="flex flex-col gap-7 text-center">
    {
      navItems.map(({ title, to }) => (
        <div class="text-4xl hover:underline">
          <HeaderLink to={to}>{title}</HeaderLink>
        </div>
      ))
    }
  </div>
</div>

<script>
  const modal = document.getElementById("modal");

  const toggle = () => {
    modal?.classList.toggle("hidden");
    document.body.classList.toggle("overflow-hidden");
  };

  const modalToggle = document.querySelectorAll(".modal-toggle");
  modalToggle?.forEach((elem) => {
    elem.addEventListener("click", toggle);
  });
</script>
