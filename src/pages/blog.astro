---
import Heading from "../components/Heading.astro";
import ProjectOverview from "../components/ProjectOverview.astro";
import PageLayout from "../layouts/PageLayout.astro";

const posts = (await Astro.glob("./blog/*.{md,mdx}")).sort(
  (a, b) =>
    new Date(b.frontmatter.pubDate).valueOf() -
    new Date(a.frontmatter.pubDate).valueOf()
);
---

<PageLayout title="Blog" description="Random ramblings">
  <main>
    <div class="content">
      <Heading title="Blog" subtitle="Random ramblings about random stuff." />

      <div class="flex flex-col gap-10">
        {
          posts.map((post) => (
            <ProjectOverview
              title={post.frontmatter.title}
              pubDate={post.frontmatter.pubDate}
              description={post.frontmatter.description}
              to={post.url}
            />
          ))
        }
      </div>
    </div>
  </main>
</PageLayout>
